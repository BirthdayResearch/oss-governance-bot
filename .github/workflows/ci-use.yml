name: CI

on:
  pull_request:
    types: [ synchronize, opened, labeled, unlabeled ]
  issues:
    types: [ opened, labeled, unlabeled ]
  issue_comment:
    types: [ created ]

jobs:
  uses:
    name: Uses
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@5a4ac9002d0be2fb38bd78e4b4dbde5606d7042f

      - uses: actions/github-script@v3
        with:
          script: |
            github.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `<details><summary>Debug Payload Information</summary>\n\n\`\`\`json\n${JSON.stringify(context, undefined, 2)}\n\`\`\`\n\n</details>`
            })

      - uses: ./
        with:
          # You can use a PAT so that it shows up as a user instead of github-actions
          github-token: ${{ secrets.DEFICHAIN_BOT_PAT_OSS_GOVERNANCE }}
